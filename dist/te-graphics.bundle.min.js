!function(t,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var e=i();for(var n in e)("object"==typeof exports?exports:t)[n]=e[n]}}(window,function(){return function(e){var n={};function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=e,s.c=n,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(i,t){if(1&t&&(i=s(i)),8&t)return i;if(4&t&&"object"==typeof i&&i&&i.__esModule)return i;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:i}),2&t&&"string"!=typeof i)for(var n in i)s.d(e,n,function(t){return i[t]}.bind(null,n));return e},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="../dist/",s(s.s=0)}([function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"_gOpt",function(){return v}),r.d(e,"default",function(){return i});r(6);var l=r(1),u=r(2),c=r(3),f=r(4);function n(){return(n=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var v={bgColor:"#FFF",font:"'Roboto', sans-serif",fontSize:13,fontColor:"#96a2aa",thickness:2,cutLineColor:"#f2f4f5",cutLineThickness:1,hintThickness:2,hintBgColor:"#FFF",hintBorderColor:"#f2f4f5",hintHeaderColor:"#000",hintRadius:4,hintBorderRadius:7,hintPadding:10,tmpCheckBtn:function(t,i,e){return'<input name="tg-'+e+'" value="'+e+'" type="checkbox" checked><div class="tg-ui__check-mark" style="background-color: '+i+'"></div>'+t}},i=function(){function a(t,e,i,n,s){var o=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,a),d(this,"obDraw",void 0),d(this,"obSlDraw",void 0),d(this,"obUI",void 0),d(this,"_charts",[]),d(this,"_x",[]);var r=Object(l.a)(t,"tg__canvas"),h=Object(l.a)(t,"tg-ui-slider__canvas");this.options=i,r.getContext("2d").font=v.fontSize+"px "+v.font,e.columns.forEach(function(n){var t=n.shift(),i=e.types[t];"x"===i?(n.forEach(function(t,i){var e=new Date(n[i]);n[i]=[o.unixDateToStr(e),o.dayNumToStr(e)]}),o._x=n):"line"===i&&o._charts.push(new u.a(e.names[t],e.colors[t],n))}),n||(n=0),s=s?s+1:this._x.length,this.obDraw=new c.a(r,this._x,this._charts,n,s),this.obDraw.drawAll(),this.obSlDraw=new c.a(h,this._x,this._charts,0,this._x.length),this.obSlDraw.bottomIndent=0,this.obSlDraw.thickness=1,this.obSlDraw.drawOnlyCharts(),this.obUI=new f.a(t,this._charts,this.obDraw,this.obSlDraw,n,s),this.obUI.minRangeWidth=h.height}var t,i,e;return t=a,(i=[{key:"addChart",value:function(t,i,e){this._charts.push(new u.a(t,i,e)),this.obDraw.drawAll(),this.obSlDraw.drawOnlyCharts()}},{key:"hideChart",value:function(t){this._charts[t].hidden=!0,this.obDraw.drawAll(),this.obSlDraw.drawOnlyCharts()}},{key:"showChart",value:function(t){this._charts[t].hidden=!1,this.obDraw.drawAll(),this.obSlDraw.drawOnlyCharts()}},{key:"unixDateToStr",value:function(t){var i="";switch(t.getMonth()){case 0:i="Jan";break;case 1:i="Feb";break;case 2:i="Mar";break;case 3:i="Apr";break;case 4:i="May";break;case 5:i="Jun";break;case 6:i="Jul";break;case 7:i="Aug";break;case 8:i="Sept";break;case 9:i="Oct";break;case 10:i="Nov";break;case 11:i="Dec"}return i+" "+t.getDate()}},{key:"dayNumToStr",value:function(t){switch(t.getDay()){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";default:return"Sat"}}},{key:"charts",get:function(){return this._charts}},{key:"x",get:function(){return this._x}},{key:"options",get:function(){return v},set:function(t){"object"===s(t)&&n(v,t)}}])&&o(t.prototype,i),e&&o(t,e),a}();t.TeGraphics=i}.call(this,r(5))},function(t,i,e){"use strict";e.d(i,"a",function(){return n}),e.d(i,"c",function(){return s}),e.d(i,"b",function(){return o});var n=function(t,i){return t.getElementsByClassName(i)[0]},s=document.addEventListener?function(t,i,e){t&&i&&e&&t.addEventListener(i,e,!1)}:function(t,i,e){t&&i&&e&&t.attachEvent("on"+i,e)},o=document.removeEventListener?function(t,i,e){t&&i&&t.removeEventListener(i,e,!1)}:function(t,i,e){t&&i&&t.detachEvent("on"+i,e)}},function(t,i,e){"use strict";function s(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}e.d(i,"a",function(){return n});var n=function t(i,e,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,"name",void 0),s(this,"color",void 0),s(this,"values",void 0),s(this,"hidden",!1),this.name=i,this.color=e,this.values=n}},function(t,i,e){"use strict";e.d(i,"a",function(){return s});var y=e(0);function f(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var e=[],n=!0,s=!1,o=void 0;try{for(var r,h=t[Symbol.iterator]();!(n=(r=h.next()).done)&&(e.push(r.value),!i||e.length!==i);n=!0);}catch(t){s=!0,o=t}finally{try{n||null==h.return||h.return()}finally{if(s)throw o}}return e}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function n(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var s=function(){function o(t,i,e,n,s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,o),r(this,"canvas",void 0),r(this,"ctx",void 0),r(this,"x",void 0),r(this,"charts",void 0),r(this,"start",void 0),r(this,"finish",void 0),r(this,"xIndent",10),r(this,"bottomXIndent",12),r(this,"indent",8),r(this,"bottomIndent",25),r(this,"monthWidth",void 0),r(this,"speedChartChanging",.15),r(this,"timerDrawId",void 0),r(this,"dateMoveStep",3),r(this,"dateMoveStepDefault",3),r(this,"thickness",y._gOpt.thickness),r(this,"w",void 0),r(this,"h",void 0),r(this,"min",void 0),r(this,"max",void 0),r(this,"rx",void 0),r(this,"ry",void 0),r(this,"axisX",void 0),r(this,"isAxisMoving",!1),this.canvas=t,this.ctx=t.getContext("2d"),this.w=t.width,this.h=t.height,this.x=i,this.charts=e,this.start=n,this.finish=s,this.dateClearY=this.h-this.bottomXIndent-y._gOpt.fontSize,this.dateClearH=y._gOpt.fontSize+5}var t,i,e;return t=o,(i=[{key:"smoothY",value:function(t,i,e){var n,s=this,o=h(this.calculateParams(t,i),2);this.rx=o[0],n=o[1],void 0===this.ry&&(this.ry=n);var r=(n-this.ry)*this.speedChartChanging;clearTimeout(this.timerDrawId);!function t(){(0<r?s.ry<n:s.ry>n)?(e(),s.timerDrawId=setTimeout(t,25),s.ry+=r):(s.ry=n,e())}()}},{key:"drawAll",value:function(t,i){var e=this;this.smoothY(t,i,function(){e.bgColor(),e.drawCutLines(),e.drawAxisX(),e.drawCharts()})}},{key:"drawOnlyCharts",value:function(t,i){var e=this;this.smoothY(t,i,function(){e.bgColor(),e.drawCharts()})}},{key:"bgColor",value:function(){this.ctx.fillStyle=y._gOpt.bgColor,this.ctx.fillRect(0,0,this.w,this.h)}},{key:"calculateParams",value:function(s,o){var r=this;void 0!==s&&(this.start=s),void 0!==o&&(this.finish=o),s=this.start,o=this.finish,this.min=0,this.max=1;var h=function(t){t<r.min&&(r.min=t),t>r.max&&(r.max=t)};return this.charts.forEach(function(t){if(!t.hidden){if(0<s%1){var i=Math.trunc(s);h(r.getYOfLine([i,t.values[i]],[++i,t.values[i]],s)),s=i}if(0<o%1){var e=Math.trunc(o)-1;h(r.getYOfLine([e,t.values[e]],[++e,t.values[e]],o-1)),o=e}for(var n=s;n<o;n++)h(t.values[n])}}),[this.w/(this.finish-this.start-1),(this.h-this.bottomIndent-2*this.indent)/(this.max-this.min)]}},{key:"drawCutLines",value:function(){var t,i=this.ctx,e=Math.pow(10,this.numOfDigits(this.max)-1),n=this.h*(this.max-this.min)/e;t=n<500?5:n<1100?2.5:n<1500?2:1,i.fillStyle=y._gOpt.fontColor,i.strokeStyle=y._gOpt.cutLineColor,i.lineWidth=y._gOpt.cutLineThickness;var s=Math.trunc(e/t);s<1&&(s=1);var o=s*this.ry,r=this.h-this.bottomIndent-this.indent;i.beginPath();for(var h=this.max-(y._gOpt.fontSize+2)/this.ry,a=0;a<h;a+=s)i.fillText(a,0,r-8),i.moveTo(0,r),i.lineTo(this.w,r),r-=o;i.stroke()}},{key:"getAxisX",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],i=[],e=this.x.slice(this.start,this.finish),n=this.w/(e.length-1),s=this.ctx.measureText("Mar 25").width,o=this.w-2*this.xIndent-s,r=2*Math.ceil(s/n),h=o/r/n,a=h%1*n;h=Math.trunc(h),t&&(this.stepOfAxisX=(o-a)/h,this.monthWidth=this.stepOfAxisX/2);for(var l=this.xIndent+a/2,u=Math.round((l+this.stepOfAxisX/2)/n),c=this.h-this.bottomXIndent,f=0;f<=h;f++)i.push([e[u][0],l,c]),l+=this.stepOfAxisX,u+=r;return i}},{key:"clearAxisX",value:function(){this.ctx.fillStyle=y._gOpt.bgColor,this.ctx.fillRect(0,this.dateClearY,this.w,this.dateClearH)}},{key:"clearCharts",value:function(){this.ctx.fillStyle=y._gOpt.bgColor,this.ctx.fillRect(0,0,this.w,this.axisX[0][2]-y._gOpt.fontSize)}},{key:"drawAxisX",value:function(){var i=this;this.axisX=this.getAxisX(),this.ctx.fillStyle=y._gOpt.fontColor,this.axisX.forEach(function(t){return i.ctx.fillText(t[0],t[1],t[2])})}},{key:"move",value:function(){var t=this,i=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0;this.smoothY(e,n,function(){t.clearCharts(),t.drawCutLines(),t.drawCharts()}),this.isAxisMoving||(i?this.moveToLeft(e,n):this.moveToRight(e,n))}},{key:"moveToLeft",value:function(t,i){var e=this,n=this.getAxisX(!1),s=this.axisX;if(s[0][0]!==n[0][0]){this.isAxisMoving=!0,this.axisX=n,s.unshift(f(n[0]));var o=2*this.monthWidth;s[0][1]-=o;var r=0;!function t(){e.clearAxisX(),e.ctx.fillStyle=y._gOpt.fontColor,r<o?(s.forEach(function(t){return e.ctx.fillText(t[0],t[1]+r,t[2])}),setTimeout(t,15)):(e.isAxisMoving=!1,e.axisX.forEach(function(t){return e.ctx.fillText(t[0],t[1],t[2])})),r+=e.dateMoveStep}()}}},{key:"moveToRight",value:function(t,i){var e=this,n=this.getAxisX(!1),s=this.axisX,o=s.length-1,r=n.length-1;if(s[o][0]!==n[r][0]){this.isAxisMoving=!0,this.axisX=n,s.push(f(n[r]));var h=2*this.monthWidth;s[o+1][1]+=h;var a=0;!function t(){e.clearAxisX(),e.ctx.fillStyle=y._gOpt.fontColor,a<h?(s.forEach(function(t){return e.ctx.fillText(t[0],t[1]-a,t[2])}),setTimeout(t,15)):(e.isAxisMoving=!1,e.axisX.forEach(function(t){return e.ctx.fillText(t[0],t[1],t[2])})),a+=e.dateMoveStep}()}}},{key:"stretchAxisXtoLeft",value:function(t,i){var s=this;if(this.smoothY(t,i,function(){s.clearCharts(),s.drawCutLines(),s.drawCharts()}),!this.isAxisMoving){var e=2*this.monthWidth,n=this.getAxisX(),o=this.axisX;if(o[0][0]!==n[0][0]){this.isAxisMoving=!0;for(var r=(this.axisX=n).length-1;0<=r;r--)o.unshift(f(n[r])),o[0][1]=o[1][1]-e;var h=o.length%2,a=0,l=255,u=144/this.dateMoveStep;!function t(){if(s.clearAxisX(),s.ctx.fillStyle=y._gOpt.fontColor,a<e){var n=Math.trunc(l).toString(16);n.length<2&&(n="0"+n),o.forEach(function(t,i){i%2==h?s.ctx.fillStyle+=n:s.ctx.fillStyle=y._gOpt.fontColor;var e=a*Math.round((o.length-i-1)/2);s.ctx.fillText(t[0],t[1]+e,t[2])}),setTimeout(t,15)}else s.isAxisMoving=!1,s.axisX=s.getAxisX(),s.axisX.forEach(function(t){return s.ctx.fillText(t[0],t[1],t[2])});a+=3+Math.sqrt(s.dateMoveStep)/4,0<l?l-=u:l=0}()}}}},{key:"stretchAxisXtoRight",value:function(t,i){var s=this;if(this.smoothY(t,i,function(){s.clearCharts(),s.drawCutLines(),s.drawCharts()}),!this.isAxisMoving){var e=2*this.monthWidth,n=this.getAxisX(),o=this.axisX;if(o[o.length-1][0]!==n[n.length-1][0]){this.isAxisMoving=!0,this.axisX=n;for(var r=0;r<n.length;r++)o.push(f(n[r])),o[o.length-1][1]=o[o.length-2][1]+e;var h=0,a=255,l=144/this.dateMoveStep;!function t(){if(s.clearAxisX(),s.ctx.fillStyle=y._gOpt.fontColor,h<e){var n=Math.trunc(a).toString(16);n.length<2&&(n="0"+n),o.forEach(function(t,i){i%2?s.ctx.fillStyle+=n:s.ctx.fillStyle=y._gOpt.fontColor;var e=h*Math.round(i/2);s.ctx.fillText(t[0],t[1]-e,t[2])}),setTimeout(t,15)}else s.isAxisMoving=!1,s.axisX=s.getAxisX(),s.axisX.forEach(function(t){return s.ctx.fillText(t[0],t[1],t[2])});h+=3+Math.sqrt(s.dateMoveStep)/4,0<a?a-=l:a=0}()}}}},{key:"compressAxisXtoLeft",value:function(t,i){var s=this;if(this.smoothY(t,i,function(){s.clearCharts(),s.drawCutLines(),s.drawCharts()}),!this.isAxisMoving){var o=this.monthWidth,e=this.getAxisX(),r=this.axisX;if(r[0][0]!==e[0][0]){this.isAxisMoving=!0,this.axisX=e;for(var n=r.length-1,h=e.length-1;1<n&&0<=h;n--,h--)r.splice(n,0,f(e[h])),r[n][1]=r[n-1][1]+this.monthWidth;var a=r.length%2,l=o,u=0,c=255/this.dateMoveStep;!function t(){if(s.clearAxisX(),s.ctx.fillStyle=y._gOpt.fontColor,0<l){var n=Math.trunc(u).toString(16);n.length<2&&(n="0"+n),r.forEach(function(t,i){i%2!==a?s.ctx.fillStyle+=n:s.ctx.fillStyle=y._gOpt.fontColor;var e=(l-o-1)*(r.length-i-1);s.ctx.fillText(t[0],t[1]+e,t[2])}),setTimeout(t,10)}else s.isAxisMoving=!1,s.axisX=s.getAxisX(),s.axisX.forEach(function(t){return s.ctx.fillText(t[0],t[1],t[2])});l-=1+Math.sqrt(s.dateMoveStep)/4,u<255?u+=c:u=255}()}}}},{key:"compressAxisXtoRight",value:function(t,i){var s=this;if(this.smoothY(t,i,function(){s.clearCharts(),s.drawCutLines(),s.drawCharts()}),!this.isAxisMoving){var e=this.monthWidth,n=this.getAxisX(),o=this.axisX;if(o[o.length-1][0]!==n[n.length-1][0]){this.isAxisMoving=!0,this.axisX=n;for(var r=1,h=0;r<o.length&&h<n.length;r+=2,h++)o.splice(r,0,f(n[h])),o[r][1]=o[r-1][1]+this.monthWidth;o.length;var a=0,l=0,u=255/this.dateMoveStep;!function t(){if(s.clearAxisX(),s.ctx.fillStyle=y._gOpt.fontColor,a<e){var n=Math.trunc(l).toString(16);n.length<2&&(n="0"+n),o.forEach(function(t,i){i%2?s.ctx.fillStyle+=n:s.ctx.fillStyle=y._gOpt.fontColor;var e=a*i;s.ctx.fillText(t[0],t[1]+e,t[2])}),setTimeout(t,10)}else s.isAxisMoving=!1,s.axisX=s.getAxisX(),s.axisX.forEach(function(t){return s.ctx.fillText(t[0],t[1],t[2])});a+=1+Math.sqrt(s.dateMoveStep)/4,l<255?l+=u:l=255}()}}}},{key:"drawCharts",value:function(){var n=this,s=this.ctx;s.lineWidth=this.thickness;var o=this.h-this.bottomIndent-this.indent,r=this.start,h=this.finish,a=(1-r%1)*this.rx;r=Math.floor(r),h<this.x.length&&h++,this.charts.forEach(function(t){if(!t.hidden){s.strokeStyle=t.color,s.beginPath();var i=0;0<a&&(i=-1),s.moveTo(a+i*n.rx,o-(t.values[r]-n.min)*n.ry),i++;for(var e=r+1;e<h;e++,i++)s.lineTo(a+i*n.rx,o-(t.values[e]-n.min)*n.ry);s.stroke()}})}},{key:"getYOfLine",value:function(t,i,e){return(i[1]-t[1])/(i[0]-t[0])*(e-t[0])+t[1]}},{key:"hint",value:function(o){var e=this,r=this.ctx,h=(this.start,this.rx,y._gOpt.fontSize+"px "+y._gOpt.font),t=y._gOpt.fontSize+1,n=t+"px "+y._gOpt.font,i=t+2,a=i+"px "+y._gOpt.font,l=[];r.font=h;var u=(o-this.start)*this.rx,c=this.h-this.bottomIndent-this.indent;r.strokeStyle=y._gOpt.cutLineColor,r.lineWidth=y._gOpt.hintThickness,r.beginPath(),r.moveTo(u,50),r.lineTo(u,c),r.stroke(),r.fillStyle=y._gOpt.bgColor,r.lineWidth=y._gOpt.thickness;var s=0,f=0;this.charts.forEach(function(t,i){t.hidden||(r.font=n,l[i]=[],l[i][0]=r.measureText(t.values[o]).width,s+=l[i][0]+20,r.font=h,l[i][1]=r.measureText(t.name).width,f+=l[i][1]+20,r.strokeStyle=t.color,r.beginPath(),r.arc(u,c-t.values[o]*e.ry,y._gOpt.cutLineThickness+y._gOpt.hintRadius,0,2*Math.PI),r.fill(),r.stroke())}),s-=20,f-=20,r.font=n;var d=this.x[o][1]+", "+this.x[o][0],v=r.measureText(d).width,g=Math.max(v,s,f)+2*y._gOpt.hintPadding,x=y._gOpt.fontSize+t+i+2*y._gOpt.hintPadding+15+5;u-=g/2,c=10,r.strokeStyle=y._gOpt.hintBorderColor,r.lineWidth=y._gOpt.hintThickness,r.fillStyle=y._gOpt.hintBgColor,this.roundRect(u,c,g,x,y._gOpt.hintBorderRadius),this.roundRect(u+1,c+1,g-2,x-2,y._gOpt.hintBorderRadius,!0);var p=0,w=0,b=Math.max(s,f);v<b?p=(b-v)/2:w=(v-b)/2,r.fillStyle=y._gOpt.hintHeaderColor,r.strokeStyle=y._gOpt.cutLineColor,r.lineWidth=y._gOpt.cutLineThickness,u+=y._gOpt.hintPadding,c+=y._gOpt.hintPadding+t,r.fillText(d,u+p,c),r.font=y._gOpt.fontSize+"px "+y._gOpt.font,c+=15+i,u+=w,this.charts.forEach(function(t,i){if(!t.hidden){r.fillStyle=t.color;var e,n=0,s=0;l[i][0]>l[i][1]?(e=l[i][0],s=(l[i][0]-l[i][1])/2-1):(e=l[i][1],n=(l[i][1]-l[i][0])/2-1),r.font=a,r.fillText(t.values[o],u+n,c),r.font=h,r.fillText(t.name,u+s,c+y._gOpt.fontSize+5),u+=e+20}})}},{key:"roundRect",value:function(t,i,e,n,s,o,r){var h=this.ctx;void 0===r&&(r=!0),void 0===s&&(s=5),h.beginPath(),h.moveTo(t+s,i),h.lineTo(t+e-s,i),h.quadraticCurveTo(t+e,i,t+e,i+s),h.lineTo(t+e,i+n-s),h.quadraticCurveTo(t+e,i+n,t+e-s,i+n),h.lineTo(t+s,i+n),h.quadraticCurveTo(t,i+n,t,i+n-s),h.lineTo(t,i+s),h.quadraticCurveTo(t,i,t+s,i),h.closePath(),r&&h.stroke(),o&&h.fill()}},{key:"numOfDigits",value:function(t){for(var i=0;0<t;)t=Math.trunc(t/10),++i;return i}}])&&n(t.prototype,i),e&&n(t,e),o}()},function(t,i,e){"use strict";e.d(i,"a",function(){return s});var f=e(0),d=e(1);function n(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var s=function(){function c(t,i,e,n,s,o){var r=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,c),v(this,"block",void 0),v(this,"charts",void 0),v(this,"obDraw",void 0),v(this,"obSlDraw",void 0),v(this,"start",void 0),v(this,"finish",void 0),v(this,"slLBl",void 0),v(this,"slLBtn",void 0),v(this,"slRange",void 0),v(this,"slRBtn",void 0),v(this,"slRBl",void 0),v(this,"rx",void 0),v(this,"w",void 0),v(this,"clientXOld",0),v(this,"rateOfMouseSpeed",8e3),v(this,"timeOutOfMouseSpeed",50),v(this,"minRangeWidth",10),v(this,"hintPosition",void 0),v(this,"isMouseHint",!1),v(this,"widthBtn",void 0),v(this,"pos",void 0),v(this,"_onCanvasMouseDown",function(t){return r.onCanvasMouseDown(t)}),v(this,"_onCanvasMouseMove",function(t){return r.onCanvasMouseMove(t)}),v(this,"_onChangeCheck",function(t){return r.onChangeCheck(t)}),v(this,"_onMouseDownSlLBtn",function(t){return r.onMouseDownSlLBtn(t)}),v(this,"_onMouseDownSlRange",function(t){return r.onMouseDownSlRange(t)}),v(this,"_onMouseDownSlRBtn",function(t){return r.onMouseDownSlRBtn(t)}),v(this,"mouseMoveFn",void 0),v(this,"_onMouseUp",function(t){return r.onMouseUp(t)}),this.block=t,this.charts=i,this.obDraw=e,this.obSlDraw=n,this.start=s,this.finish=o;var h=Object(d.a)(this.block,"tg-ui__checkboxes");this.charts.forEach(function(t,i){var e=document.createElement("label");e.innerHTML=f._gOpt.tmpCheckBtn(t.name,t.color,i),h.appendChild(e),Object(d.c)(e,"change",r._onChangeCheck)});var a=Object(d.a)(this.block,"tg-ui-slider");this.slLBl=Object(d.a)(a,"tg-ui-slider__l-bl"),this.slLBtn=Object(d.a)(a,"tg-ui-slider__l-btn"),this.slRange=Object(d.a)(a,"tg-ui-slider__range"),this.slRBtn=Object(d.a)(a,"tg-ui-slider__r-btn"),this.slRBl=Object(d.a)(a,"tg-ui-slider__r-bl"),this.widthBtn=this.slLBtn.offsetWidth,this.rx=n.rx,this.w=n.w,Object(d.c)(this.obDraw.canvas,"mousedown",this._onCanvasMouseDown),Object(d.c)(this.obDraw.canvas,"mousemove",this._onCanvasMouseMove),Object(d.c)(this.slLBtn,"mousedown",this._onMouseDownSlLBtn),Object(d.c)(this.slRange,"mousedown",this._onMouseDownSlRange),Object(d.c)(this.slRBtn,"mousedown",this._onMouseDownSlRBtn),Object(d.c)(document,"mouseup",this._onMouseUp);var l=Math.floor(s*this.rx),u=Math.ceil((o-1)*this.rx);this.slLBtn.style.left=this.slLBl.style.width=l+"px",l+=this.widthBtn,this.slRange.style.left=l+"px",this.slRange.style.width=u-l-this.widthBtn+"px",l+=this.slRange.offsetWidth,this.slRBtn.style.left=l+"px",this.slRBl.style.width=this.w-l-this.widthBtn+"px"}var t,i,e;return t=c,(i=[{key:"drawHint",value:function(){this.obDraw.clearCharts(),this.obDraw.drawCutLines(),this.obDraw.drawCharts(),this.obDraw.hint(this.hintPosition)}},{key:"onCanvasMouseDown",value:function(t){this.detectLeftMouse(t)&&(this.hintPosition=Math.round(this.obDraw.start+(t.clientX-t.target.offsetLeft)/this.obDraw.rx),this.isMouseHint=!0,this.drawHint())}},{key:"onCanvasMouseMove",value:function(t){if(this.isMouseHint){var i=Math.round(this.obDraw.start+(t.clientX-t.target.offsetLeft)/this.obDraw.rx);i!==this.hintPosition&&(this.hintPosition=i,this.drawHint())}}},{key:"calcDrawMoveStep",value:function(t){var i=this;setTimeout(function(){i.obDraw.dateMoveStep=Math.round(Math.sqrt(Math.abs(i.clientXOld-t.clientX)/i.timeOutOfMouseSpeed*i.rateOfMouseSpeed)/1.2),i.obDraw.dateMoveStep>i.obDraw.monthWidth&&(i.obDraw.dateMoveStep=i.obDraw.monthWidth),i.clientXOld=t.clientX},this.timeOutOfMouseSpeed)}},{key:"onChangeCheck",value:function(t){var i=0;this.charts.forEach(function(t){t.hidden||++i}),1!==i||t.target.checked?(this.charts[t.target.value].hidden=!t.target.checked,this.obDraw.drawAll(),this.obSlDraw.drawOnlyCharts()):t.target.checked=!0}},{key:"onMouseDownSlLBtn",value:function(t){var i=this;this.removeMouse(),this.detectLeftMouse(t)&&(this.hintPosition=null,this.pos=t.clientX-t.target.offsetLeft,this.mouseMoveFn=function(t){return i.onMouseMoveSlLBtn(t)},Object(d.c)(document,"mousemove",this.mouseMoveFn))}},{key:"onMouseDownSlRange",value:function(t){var i=this;this.removeMouse(),this.detectLeftMouse(t)&&(this.hintPosition=null,this.pos=t.clientX-this.slLBtn.offsetLeft,this.mouseMoveFn=function(t){return i.onMouseMoveSlRange(t)},Object(d.c)(document,"mousemove",this.mouseMoveFn))}},{key:"onMouseDownSlRBtn",value:function(t){var i=this;this.removeMouse(),this.detectLeftMouse(t)&&(this.hintPosition=null,this.pos=t.clientX-t.target.offsetLeft,this.mouseMoveFn=function(t){return i.onMouseMoveSlRBtn(t)},Object(d.c)(document,"mousemove",this.mouseMoveFn))}},{key:"onMouseMoveSlLBtn",value:function(t){this.clientXOld||(this.clientXOld=t.clientX);var i=t.clientX-this.pos;i<0&&(i=0);var e=this.slLBtn.offsetLeft<i,n=this.slRBtn.offsetLeft-i;if(!(n-this.widthBtn<this.minRangeWidth)){this.slLBtn.style.left=this.slLBl.style.width=i+"px",this.slRange.style.left=i+this.widthBtn+"px",this.slRange.style.width=n+"px",this.calcDrawMoveStep(t);var s=this.slLBtn.offsetLeft/this.rx,o=(this.slRBtn.offsetLeft+this.widthBtn)/this.rx+1;e?this.obDraw.compressAxisXtoLeft(s,o):this.obDraw.stretchAxisXtoLeft(s,o)}}},{key:"onMouseMoveSlRange",value:function(t){this.clientXOld||(this.clientXOld=t.clientX);var i=t.clientX-this.pos,e=this.w-2*this.widthBtn-this.slRange.offsetWidth;i<0?i=0:e<i&&(i=e);var n=this.slLBtn.offsetLeft>i;this.slLBtn.style.left=this.slLBl.style.width=i+"px",i+=this.widthBtn,this.slRange.style.left=i+"px",i+=this.slRange.offsetWidth,this.slRBtn.style.left=i+"px",this.slRBl.style.width=this.w-i-this.widthBtn+"px",this.calcDrawMoveStep(t),this.obDraw.move(n,this.slLBtn.offsetLeft/this.rx,(this.slRBtn.offsetLeft+this.widthBtn)/this.rx+1)}},{key:"onMouseMoveSlRBtn",value:function(t){this.clientXOld||(this.clientXOld=t.clientX);var i=t.clientX-this.pos,e=this.w-this.widthBtn;e<i&&(i=e);var n=this.slRBtn.offsetLeft<i,s=i-this.slLBtn.offsetLeft-this.widthBtn;if(!(s<this.minRangeWidth)){this.slRBtn.style.left=i+"px",this.slRBl.style.width=this.w-i+"px",this.slRange.style.width=s+"px",this.calcDrawMoveStep(t);var o=this.slLBtn.offsetLeft/this.rx,r=(this.slRBtn.offsetLeft+this.widthBtn)/this.rx+1;n?this.obDraw.stretchAxisXtoRight(o,r):this.obDraw.compressAxisXtoRight(o,r)}}},{key:"onMouseUp",value:function(t){this.isMouseHint=!1,this.removeMouse()}},{key:"removeMouse",value:function(){this.obDraw.dateMoveStep=this.obDraw.dateMoveStepDefault,this.mouseMoveFn&&Object(d.b)(document,"mousemove",this.mouseMoveFn),this.mouseMoveFn=void 0}},{key:"detectLeftMouse",value:function(t){return"buttons"in(t=t||window.event)?1==t.buttons:1==(t.which||t.button)}}])&&n(t.prototype,i),e&&n(t,e),c}()},function(t,i){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,i,e){}])});
//# sourceMappingURL=te-graphics.bundle.min.js.map